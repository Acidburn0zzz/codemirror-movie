<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>CodeMirror Scenario</title>
<link rel="stylesheet" href="./src/codemirror2/codemirror.css">
<link rel="stylesheet" href="./src/scenario.css">

<script src="./src/codemirror2/codemirror.js"></script>
<script src="./src/codemirror2/css.js"></script>
<script src="./src/codemirror2/xml.js"></script>

<script src="./src/lib/emmet.min.js"></script>
<script src="./src/lib/tween.js"></script>
<script src="./src/dom.js"></script>
<script src="./src/scenario.js"></script>
<script src="./src/scenario.tooltip.js"></script>
<script src="./src/scenario.outline.js"></script>
<script src="./src/scenario.prompt.js"></script>
<script src="./src/movie.js"></script>

<style type="text/css">
.CodeMirror {
	font-size: 12px;
	background: #f5f5f5;
	border: 1px solid #e3e3e3;
}

</style>
</head>
<body>
	<h1>CodeMirror Scenario</h1>
<textarea id="code" name="code">
&lt;!doctype html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
	&lt;meta charset="UTF-8"&gt;
	&lt;title&gt;&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
	&lt;header&gt;
		|
	&lt;/header&gt;
&lt;/body&gt;
&lt;/html&gt;
~~~
prompt: Hello world
type: ul>li.item$*4>a{Item $} ::: Enter Abbreviation
wait: 1000
tooltip: Run “Expand Abbreviation” action (simply press Tab key) ::: Expand Abbreviation (Cmd-E)
wait: 600
run: emmet.expand_abbreviation
</textarea>
	<button style="font-size: 2em;margin: 10px auto;display: block;">Play</button>
	<script>
		var scenario = CodeMirror.movie('code');
		
		var btn = document.getElementsByTagName('button')[0];
		btn.onclick = function() {
			if (scenario.state() == 'play') {
				scenario.pause();
				this.innerHTML = 'Play';
			} else {
				scenario.play();
				this.innerHTML = 'Pause';
			}
		};
		
		scenario.on('stop', function(name) {
			btn.innerHTML = 'Play';
		});
	</script>
</body>
</html>
